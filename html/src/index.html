<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Frame Cropping</title>
    <meta name="viewport" content="width=device-width">
</head>

<body>
    <main id="main-container" class="m-3">
        <h2>Frame Cropping</h2>
        <section class="mt-3" id="sectionFile">
            <div class="p-3 mb-2 bg-light text-dark">1. Choose an image file</div>
            <div class="row align-items-center">
                <div class="col-auto pe-0">
                    <label class="btn btn-primary">
                        <input type="file" id="fileSelect" class="d-none" accept=".jpg,.jpeg,.gif,.png,image/jpg,image/jpeg,image/gif,image/png">Choose an image file
                    </label>
                    <span></span>
                </div>
            </div>
        </section>
        <section class="d-none" id="sectionImage">
            <section class="mt-3" id="sectionRatio">
                <div class="p-3 mb-2 bg-light text-dark">2.Select the aspect ratio</div>
                <select class="form-select" name="ratio" >
                    <option value="1.414285714285714">11.7:8.3 (A4 Landscape 297x210)</option>
                    <option value="0.7070707070707071">8.3:11.7 (A4 Portrait 210x297)</option>
                    <option value="1.777777777777778">16:9 (HD)</option>
                    <option value="1.666666666666667">5:3</option>
                    <option value="1.5">3:2</option>
                    <option value="1.333333333333333">4:3</option>
                    <option value="1">1:1</option>
                    <option value="2">2:1</option>
                    <option value="custom">Custom</option>
                </select>
                <div class="p-1 mb-1 d-none" id="customratio">
                    <div class="p-1 row row-cols-auto">
                        <div class="col">
                            <input type="radio" class="btn-check" name="ratio_type" id="ratio_type_ratio" autocomplete="off" value="ratio" checked>
                            <label class="btn btn-primary" for="ratio_type_ratio">Ratio</label>
                        </div>
                        <div class="col">
                            <input type="number" class="form-control w-auto" placeholder="Width" aria-label="Width" name="ratio_width">
                        </div>
                        <div class="col">
                            x
                        </div>
                        <div class="col">
                            <input type="number" class="form-control w-auto" placeholder="Height" aria-label="Height" name="ratio_height">
                        </div>
                    </div>
                    <div class="p-1 row row-cols-auto">
                        <div class="col">
                            <input type="radio" class="btn-check" name="ratio_type" id="ratio_type_pixels" autocomplete="off"  value="pixels">
                            <label class="btn btn-primary" for="ratio_type_pixels">Pixels</label>
                        </div>
                        <div class="col">
                            <input type="number" class="form-control w-auto" placeholder="Width" aria-label="Width" name="pixels_width">
                        </div>
                        <div class="col">
                            x
                        </div>
                        <div class="col">
                            <input type="number" class="form-control w-auto" placeholder="Height" aria-label="Height" name="pixels_height">
                        </div>
                    </div>
                </div> 
            </section>

            <section class="mt-3" id="sectionTrim">
                <div class="p-3 mb-2 bg-light text-dark">3.Place images in the cropping area</div>
                <div class="component">
                    <div class="overlay">
                        <div class="overlay-inner">
                        </div>
                    </div>
                    <div class="resize-image-area"></div>
                </div>
            </section>

            <section class="mt-3" id="sectionControl">
                <div class="mt-3">
                    <button class="btn btn-primary" id="showResult" data-bs-toggle="modal" data-bs-target="#result-modal">Show results</button>
                </div>
                <div class="mt-3">
                    <button type="button" class="btn btn-secondary destroyResult">Start again</button>
                </div>
            </section>
        </section>
    </main>

    <!-- Modal -->
    <div class="modal fade" id="result-modal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Cropping results</h5>
                </div>
                <div class="modal-body">
                    <div class="container">
                        <div class="d-grid p-3 bg-secondary result-image-container">
                            <img class="mx-auto" id="result-image" src="">
                        </div>
                        <div class="d-block">
                            <a href="#" download="image.png" class="btn btn-primary mx-auto mt-2 w-25 d-block" id="result-download">Download</a>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <div class="w-100 row justify-content-between">
                        <button type="button" class="btn btn-secondary col-auto d-block" data-bs-dismiss="modal">Close</button>
                        <button type="button" class="btn btn-secondary col-auto d-block destroyResult" data-bs-dismiss="modal">Start again</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="js/main.js" type="module"></script>
</body>

</html>